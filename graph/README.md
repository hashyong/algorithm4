# 图

## 代码
1. [无向图](#无向图)
  - [深度优先搜索](graph.go)
  - [寻找路径](graph_dfs.go)
  - [广度优先搜索](graph_bfs.go)
  - [连通分量](uf.go)
  - [符号图](symbol.go)
  - [深度优先搜索-是否有环](graph_dfs.go)
  - [深度优先搜索-是否为二分图](graph_dfs.go)

2. [有向图](#有向图)
  - 实现和无向图相同, 不过添加边时只添加一次即可
  - [深度优先搜索](graph.go)
  - [寻找路径](graph_dfs.go)
  - [广度优先搜索](graph_bfs.go)
  - [DirectCycle](graph.go#L244)
  - [拓扑排序](graph_dfs.go#L321)
  - [KosarajuSCC(科萨拉朱算法)](graph_dfs.go#L404)
  - [TransitiveClosure(传递闭包)](graph_dfs.go#L460)

3. [最小生成树](#最小生成树)
  - [Edge](mst.go)
  - [EdgeWeightedGraph](mst.go)
    -  [KruskalMST克鲁斯卡尔算法](mst_kruskal.go)
       - 分为延时删除和及时删除俩版本
    -  [Prim普里姆算法](mst_prim.go)
  
4. [最短路径](#最短路径)
  - [Edge](mst.go)
  - [EdgeWeightedGraph](mst.go)
    - [Dijkstra 迪杰斯特拉算法](sp_dijkstra.go)
      - 适用于加权有向图
    - [基于拓扑排序relax](sp_dijkstra.go)
      - 适用于无环加权有向图 
    - [最长路径](sp_dijkstra.go)
      - 适用于无环加权有向图, 将权重值取反， 找最小路径即可
  - 实际问题(并行任务调度)
    - 优先级限制下的并行任务调度, 在若干相同的处理器上（数量不限）安排任务并在最短的时间内完成所有任务？
  
    
    

## 无向图
### 定义
- 图是由一组顶点和一组能够将两个顶点相连的边组成的
- 特殊的图
    - 自环：一条连接一个顶点和其自身的边
    - 平行边：连接同一对顶点的两条边
    - 含有平行边的图为 多重图
    - 不含平行边的图为 简单图

## 有向图
### 定义
- 一幅有方向性的图（或有向图）是由一组顶点和一组有方向的边组成的，每条有方向的 边都连接着有序的一对顶点
- 在一幅有向图中，有向路径由一系列顶点组成，
  - 对于其中的每个顶点都存在一条有向边
  - 从它指向序列中的下一个顶点。有向环为一条至少含有一条边且起点和终点相同的有向路径。
- 简单有向环是一条（除了起点和终点必须相同之外）不含有重复的顶点和边的环。
  - 路径或者环 的长度即为其中所包含的边数。

- 如果两个顶点 v 和 w 是互相可达的，则称它们为强连通的。
  - 也就是说，既存在一条从 v 到 w 的有向路径，也存在一条从 w 到 v 的有向路径。
  - 如果一幅有向图中的任意两个顶点都是强 连通的，则称这幅有向图也是强连通的。
  - 作为一种等价关系，强连通性将所有顶点分为了一些等价类， 每个等价类都是由相互均为强连通的顶点的最大子集组成的。
    - 我们 将这些子集称为强连通分量

- 顶点对的可达性。给定一幅有向图，回答“是否存在一条从一个给定的顶点 v 到另一个给定的顶点 w 的路径？”
- 有向图 G 的传递闭包是由相同的一组顶点组成的另一幅有向图，在传递闭包中存在一条从 v 指向 w 的边当且仅当在 G 中 w 是从 v 可达的。

## 最小生成树
- 加权图是一种为每条边关联一个权值或是成本的图模型
- 最小生成树。给定一幅加权无向图，找到它的一棵最小生成树
- 图的生成树是它的一棵含有其所有顶点的无环连通子图。
- 一幅加权图的最小生成树（MST） 是它的一棵权值（树中所有边的权值之和）最小的生成树
  - Prim算法和Kruskal算法
- 相关约定  
  - 只考虑连通图。
    - 我们对生成树的定义意味着最小生成树只可能存在于连通图中从另一个角度来说，
    - 我们要找的就是一个由 V-1条边组成的集合，它们既连通了图中的所有顶点而权值之和又最小。
    - 如果一幅图是非连通的， 我们只能使用这个算法来计算它的所有连通分量的最小生成树，合并在一起称其为最小生成森林
  - 边的权重不一定表示距离
  - 边的权重可能是 0 或者负数
  - 所有边的权重都各不相同
  
- 原理
  -  用一条边连接树中的任意两个顶点都会产生一个新的环；
  -  从树中删去一条边将会得到两棵独立的树。
  - 图的一种切分是将图的所有顶点分为两个非空且不重叠的两个集合。横切边是一条连接两个属于不同集合的顶点的边。    

- 命题 K（最小生成树的贪心算法）。
  - 下面这种方法会将含有 V 个顶点的任意加权连通图中属于最小生成树的边标记为黑色：
    - 初始状态下所有边均为灰色，找到一种切分，它产生的横切边均不为黑色。
    - 将它权重最小的横切边标记为黑色。反复，直到标记了 V-1 条黑色边为止。
  - 证明。
    - 为了简单，我们假设所有边的权重均不相同，尽管没有这个假设该命题同样成立。
    - 根据切分定理，所有被标记为黑色的边均属于最小生成树。
    - 如果黑色边的数量小于 V-1，必然还存在不会产生黑色横切边的切分（因为我们假设图是连通的）。
    - 只要找到了 V-1 条黑色的边，这些边所组成的就是一棵最小生成树。

## 最短路径
- 找到从一个顶点到达另一个顶点的成本最小的路径
- 在一幅加权有向图中，从顶点 s 到顶点 t 的最短路径是所有从 s 到 t 的路径中的权重最小者。
- 单点最短路径。
  - 给定一幅加权有向图和一个起点 s，
  - 回答“从 s 到给定的目的顶点 v 是否存在一条有向路径？如果有，找出最短（总权重最小）的那条路径。”等类似问题
- 最短路径的性质 
  - 路径是有向的。最短路径需要考虑到各条边的方向。
  - 权重不一定等价于距离
  - 并不是所有顶点都是可达的
    - 为了简化问题，我们的样图都是强连通的（每个顶点从另外任意一个顶点都是可达的）。
  - 负权重会使问题更复杂
    - 我们暂时假设边的权重都是正的（或零）。负权重所带来的意外效应是本节最后部分的重点。
  - 最短路径一般都是简单的。
    - 我们的算法会忽略 构成环的零权重边，因此找到的最短路径都不会含有环。  
  - 最短路径不一定是唯一的。从一个顶点到达另
    -  一个顶点的权重最小的路径可能有多条，我们只要找到其中一条即可
  - 可能存在平行边和自环：平行边中的权重最小者才会被选中，最短路径也不可能包含自环（除非自环的权重为零，但我们会忽略它）。
      - 在正文中，为了避免歧义我们隐式地假设平行边不存在，用 v → w 来表示从 v 到 w 的边，本节的代码处理它们并没有困难。

- 最短路径树
  - 我们的重点是单点最短路径问题，其中给出了起点 s，计算的结果是一棵最短路径树 (SPT)，它包含了顶点 s 到所有可达的顶点的最短路径
  - 给定一幅加权有向图和一个顶点 s，以 s 为起点的一棵最短路径树是图的一幅子图，它包含 s和从 s 可达的所有顶点。
    - 这棵有向树的根结点为 s， 树的每条路径都是有向图中的一条最短路径。
    

  

  
## 术语
- 相邻：当两个顶点通过一条边 相连时， 我们称这两个顶点是相邻的，并称这条边依附于这两个顶点
- 度数：某个顶点的度数 即为依附于它的边的总数
- 子图：由一幅图的所有边的一个子集(包括顶点)组成的图
- 路径：由边顺序连接的一系列顶点
  - 简单路径：一条没有重复顶点的路径
  - 环：一条至少含有一条边且起点和终点相同的路径
  - 简单环：一条（除了起点和终点必须相同之外）不含邮重复顶点的边的环
  - 长度：路径或者环的长度为其中所包含的边数
- 连通：当两个顶点存在一条连接双方的路径时，我们称这俩顶点是连通的
- 连通图：如果从任意一个顶点都存在一条路径到达另一个任意顶点，我们称这幅图为连通图
- 非连通图：由若干连通的部分组成，都为其极大连通子图（连通分量）
- 无环图：不包含环的图
- 树：一幅无环连通图
- 森林：互不相连的树组成的集合
- 连通图生成树：为它的一副子图，它含有图中所有顶点且是一棵树
- 图的生成树森林：所有连通子图的生成树的集合
- 图的密度：已经连接的顶点对占所有可能被连接的顶点对的比例
  - 稀疏图：被连接的顶点对很少
  - 稠密图：只有少部分顶点对之间没有边连接
- 二分图：能够将所有结点分为两部分的图， 图的每条边所连接的两个顶点都分属于不同的部分  
- 单点可达性。给定一幅有向图和一个起点 s，回答“是否存在一条从 s 到达给定顶点 v 的有向路径？”
- 多点可达性。给定一幅有向图和顶点的集合，回答“是否存在一条从集合中的任意顶点到达给定顶点 v 的有向路径？”
- 单点有向路径。给定一幅有向图和一个起点 s，回答“从 s 到给定目的顶点 v 是否存在一条有向路径？如果有，找出这条路径。
- 单点最短有向路径。给定一幅有向图和一个起点 s，回答“从 s 到给定目的顶点 v 是否存在一条有向路径？如果有，找出其中最短的那条（所含边数最少）。”
- 优先级限制下的调度问题。给定一组需要完成的任务，以及一组关于任务完成的先后次序的优先级限制。在满足限制条件的前提下应该如何安排并完成所有任务？
  - 拓扑排序。给定一幅有向图，将所有的顶点排序，使得所有的有向边均从排在前面的元素指向排在后面的元素（或者说明无法做到这一点）。
  - 有向环检测。给定的有向图中包含有向环吗？如果有，按照路径的方向从某个顶点并返回自己来找到环上的所有顶点。  
  - 有向无环图（DAG, Directed Acyclic Graph）就是一幅不含有向环的有向图。
  
## 图的数据结构
### 邻接矩阵
  - V*V的布尔矩阵，当顶点v和顶点w之间有相连接的边时，定义v行w列的元素值为true, 否则为false
    - 缺点：顶点数量变多，V^2的bool 空间太大了，不能满足
### 边的数组
  - Edge类， 含有两个int变量，但不满足实现adj 需知道图中所有的边
### 邻接表数组
  - 使用以顶点为索引的列表数组，每个元素都是和该定点相邻的顶点列表